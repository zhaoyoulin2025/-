(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/me/bindUser"],{"17c2":function(e,n,t){"use strict";t.r(n);var s=t("9597"),r=t.n(s);for(var o in s)["default"].indexOf(o)<0&&function(e){t.d(n,e,(function(){return s[e]}))}(o);n["default"]=r.a},"7e03":function(e,n,t){"use strict";var s=t("e705"),r=t.n(s);r.a},9597:function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=t("0e51"),r=t("1b89"),o={data:function(){return{bindUsername:"",bindPassword:"",showBindForm:!1,username:"",password:"",userInfo:null}},created:function(){this.userInfo=(0,s.getUserInfo)(),this.userInfo.openId&&this.userInfo.password&&(this.bindUsername=this.userInfo.userName)},methods:{toggleBindStatus:function(){var e=this;this.bindUsername?r.modal("解绑确认","确定要解除账号绑定吗？",!0,(function(n){n&&e.unbindAccount()})):this.showBindForm=!0},bindAccount:function(){if(this.username)if(this.password){var n={username:this.username,password:this.password,userId:this.userInfo.userId};r.request("wxUserBind",n).then((function(n){200==n.code?((0,s.removeUserInfo)(),(0,s.removeToken)(),(0,s.setUserType)(""),r.toast("绑定成功,请重新登录",3e3,"success"),e.redirectTo({url:"/pages/login/serverLogin"})):r.toast(n.msg)}))}else r.toast("请输入密码");else r.toast("请输入用户名")},unbindAccount:function(){r.request("cancelBind",{userId:this.userInfo.userId},"GET").then((function(n){200==n.code?((0,s.removeUserInfo)(),(0,s.removeToken)(),(0,s.setUserType)(""),r.toast("解绑成功,请重新登录",3e3,"success"),e.redirectTo({url:"/pages/login/serverLogin"})):r.toast(n.msg)}))},clearBindInfo:function(){this.bindUsername="",this.bindPassword="",this.showBindForm=!1,removeRememberInfo()}}};n.default=o}).call(this,t("543d")["default"])},b7cd:function(e,n,t){"use strict";t.d(n,"b",(function(){return s})),t.d(n,"c",(function(){return r})),t.d(n,"a",(function(){}));var s=function(){var e=this.$createElement;this._self._c},r=[]},e2ae:function(e,n,t){"use strict";t.r(n);var s=t("b7cd"),r=t("17c2");for(var o in r)["default"].indexOf(o)<0&&function(e){t.d(n,e,(function(){return r[e]}))}(o);t("7e03");var i=t("f0c5"),u=Object(i["a"])(r["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],void 0);n["default"]=u.exports},e705:function(e,n,t){},e93a:function(e,n,t){"use strict";(function(e,n){var s=t("4ea4");t("3cdf");s(t("66fd"));var r=s(t("e2ae"));e.__webpack_require_UNI_MP_PLUGIN__=t,n(r.default)}).call(this,t("bc2e")["default"],t("543d")["createPage"])}},[["e93a","common/runtime","common/vendor"]]]);