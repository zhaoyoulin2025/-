(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/serverLogin"],{"0b74":function(e,n,t){"use strict";t.d(n,"b",(function(){return o})),t.d(n,"c",(function(){return s})),t.d(n,"a",(function(){}));var o=function(){var e=this.$createElement;this._self._c},s=[]},"4a17":function(e,n,t){"use strict";var o=t("72cd"),s=t.n(o);s.a},6250:function(e,n,t){"use strict";(function(e,n){var o=t("4ea4");t("3cdf");o(t("66fd"));var s=o(t("e054"));e.__webpack_require_UNI_MP_PLUGIN__=t,n(s.default)}).call(this,t("bc2e")["default"],t("543d")["createPage"])},7265:function(e,n,t){"use strict";t.r(n);var o=t("f69e"),s=t.n(o);for(var r in o)["default"].indexOf(r)<0&&function(e){t.d(n,e,(function(){return o[e]}))}(r);n["default"]=s.a},"72cd":function(e,n,t){},e054:function(e,n,t){"use strict";t.r(n);var o=t("0b74"),s=t("7265");for(var r in s)["default"].indexOf(r)<0&&function(e){t.d(n,e,(function(){return s[e]}))}(r);t("4a17");var i=t("f0c5"),u=Object(i["a"])(s["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],void 0);n["default"]=u.exports},f69e:function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=t("0e51"),s=t("1b89"),r={data:function(){return{currentDate:"",username:"",password:"",showAuthModal:!1}},methods:{userLogin:function(){if(this.username)if(this.password){var n={};n.username=this.username,n.password=this.password,s.request("wxUserLogin",n).then((function(n){200==n.code&&((0,o.setToken)(n.token),s.request("wxGetInfo","","GET").then((function(n){(0,o.setUserInfo)(n.user),(0,o.setUserType)("1"),e.redirectTo({url:"/pages/index/serverIndex"})})))}))}else s.toast("请输入密码");else s.toast("请输入账号")},wxUserLoginser:function(){this.showAuthModal=!0},confirmAuth:function(){this.showAuthModal=!1,e.login({provider:"weixin",success:function(n){var t={};t.wxCode=n.code,t.wxClient="1",e.showLoading({title:"登陆中"}),s.request("wxloginByCode",t).then((function(n){console.log("wxloginRes",n),e.hideLoading(),200==n.code?((0,o.setToken)(n.token),(0,o.setUserType)("1"),s.request("wxGetInfo","","GET").then((function(n){(0,o.setUserInfo)(n.user),n.user.password?e.redirectTo({url:"/pages/index/serverIndex"}):e.redirectTo({url:"/pages/me/bindUser"})}))):s.toast("登录失败，请稍后再试~")}))},fail:function(n){e.hideLoading(),console.log(n)}})},cancelAuth:function(){this.showAuthModal=!1,console.log("用户拒绝授权登录")}}};n.default=r}).call(this,t("543d")["default"])}},[["6250","common/runtime","common/vendor"]]]);